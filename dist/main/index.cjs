"use strict";const A=require("electron");var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T={exports:{}},X={},ae=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"},J={exports:{}};typeof Object.create=="function"?J.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:J.exports=function(r,n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r};var ce=J.exports;(function(e){var r=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var i=[],s=0;s<arguments.length;s++)i.push(l(arguments[s]));return i.join(" ")}for(var s=1,a=arguments,v=a.length,c=String(t).replace(r,function(p){if(p==="%%")return"%";if(s>=v)return p;switch(p){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return p}}),f=a[s];s<v;f=a[++s])R(f)||!z(f)?c+=" "+f:c+=" "+l(f);return c},e.deprecate=function(t,i){if(S(fe.process))return function(){return e.deprecate(t,i).apply(this,arguments)};if(process.noDeprecation===!0)return t;var s=!1;function a(){if(!s){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}return a};var n={},o;e.debuglog=function(t){if(S(o)&&(o=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!n[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var i=process.pid;n[t]=function(){var s=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,s)}}else n[t]=function(){};return n[t]};function l(t,i){var s={seen:[],stylize:g};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),$(i)?s.showHidden=i:i&&e._extend(s,i),S(s.showHidden)&&(s.showHidden=!1),S(s.depth)&&(s.depth=2),S(s.colors)&&(s.colors=!1),S(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=u),w(s,t,s.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(t,i){var s=l.styles[i];return s?"\x1B["+l.colors[s][0]+"m"+t+"\x1B["+l.colors[s][1]+"m":t}function g(t,i){return t}function h(t){var i={};return t.forEach(function(s,a){i[s]=!0}),i}function w(t,i,s){if(t.customInspect&&i&&C(i.inspect)&&i.inspect!==e.inspect&&!(i.constructor&&i.constructor.prototype===i)){var a=i.inspect(s,t);return _(a)||(a=w(t,a,s)),a}var v=b(t,i);if(v)return v;var c=Object.keys(i),f=h(c);if(t.showHidden&&(c=Object.getOwnPropertyNames(i)),U(i)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return j(i);if(c.length===0){if(C(i)){var p=i.name?": "+i.name:"";return t.stylize("[Function"+p+"]","special")}if(D(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(B(i))return t.stylize(Date.prototype.toString.call(i),"date");if(U(i))return j(i)}var m="",P=!1,L=["{","}"];if(G(i)&&(P=!0,L=["[","]"]),C(i)){var se=i.name?": "+i.name:"";m=" [Function"+se+"]"}if(D(i)&&(m=" "+RegExp.prototype.toString.call(i)),B(i)&&(m=" "+Date.prototype.toUTCString.call(i)),U(i)&&(m=" "+j(i)),c.length===0&&(!P||i.length==0))return L[0]+m+L[1];if(s<0)return D(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var H;return P?H=x(t,i,s,f,c):H=c.map(function(le){return I(t,i,s,f,le,P)}),t.seen.pop(),ee(H,m,L)}function b(t,i){if(S(i))return t.stylize("undefined","undefined");if(_(i)){var s="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(s,"string")}if(Z(i))return t.stylize(""+i,"number");if($(i))return t.stylize(""+i,"boolean");if(R(i))return t.stylize("null","null")}function j(t){return"["+Error.prototype.toString.call(t)+"]"}function x(t,i,s,a,v){for(var c=[],f=0,p=i.length;f<p;++f)q(i,String(f))?c.push(I(t,i,s,a,String(f),!0)):c.push("");return v.forEach(function(m){m.match(/^\d+$/)||c.push(I(t,i,s,a,m,!0))}),c}function I(t,i,s,a,v,c){var f,p,m;if(m=Object.getOwnPropertyDescriptor(i,v)||{value:i[v]},m.get?m.set?p=t.stylize("[Getter/Setter]","special"):p=t.stylize("[Getter]","special"):m.set&&(p=t.stylize("[Setter]","special")),q(a,v)||(f="["+v+"]"),p||(t.seen.indexOf(m.value)<0?(R(s)?p=w(t,m.value,null):p=w(t,m.value,s-1),p.indexOf(`
`)>-1&&(c?p=p.split(`
`).map(function(P){return"  "+P}).join(`
`).substr(2):p=`
`+p.split(`
`).map(function(P){return"   "+P}).join(`
`))):p=t.stylize("[Circular]","special")),S(f)){if(c&&v.match(/^\d+$/))return p;f=JSON.stringify(""+v),f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=t.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=t.stylize(f,"string"))}return f+": "+p}function ee(t,i,s){var a=t.reduce(function(v,c){return c.indexOf(`
`)>=0,v+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?s[0]+(i===""?"":i+`
 `)+" "+t.join(`,
  `)+" "+s[1]:s[0]+i+" "+t.join(", ")+" "+s[1]}function G(t){return Array.isArray(t)}e.isArray=G;function $(t){return typeof t=="boolean"}e.isBoolean=$;function R(t){return t===null}e.isNull=R;function re(t){return t==null}e.isNullOrUndefined=re;function Z(t){return typeof t=="number"}e.isNumber=Z;function _(t){return typeof t=="string"}e.isString=_;function te(t){return typeof t=="symbol"}e.isSymbol=te;function S(t){return t===void 0}e.isUndefined=S;function D(t){return z(t)&&M(t)==="[object RegExp]"}e.isRegExp=D;function z(t){return typeof t=="object"&&t!==null}e.isObject=z;function B(t){return z(t)&&M(t)==="[object Date]"}e.isDate=B;function U(t){return z(t)&&(M(t)==="[object Error]"||t instanceof Error)}e.isError=U;function C(t){return typeof t=="function"}e.isFunction=C;function ne(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}e.isPrimitive=ne,e.isBuffer=ae;function M(t){return Object.prototype.toString.call(t)}function F(t){return t<10?"0"+t.toString(10):t.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(){var t=new Date,i=[F(t.getHours()),F(t.getMinutes()),F(t.getSeconds())].join(":");return[t.getDate(),ie[t.getMonth()],i].join(" ")}e.log=function(){console.log("%s - %s",oe(),e.format.apply(e,arguments))},e.inherits=ce,e._extend=function(t,i){if(!i||!z(i))return t;for(var s=Object.keys(i),a=s.length;a--;)t[s[a]]=i[s[a]];return t};function q(t,i){return Object.prototype.hasOwnProperty.call(t,i)}})(X);var pe=process.platform==="win32",E=X;function N(e,r){for(var n=[],o=0;o<e.length;o++){var l=e[o];!l||l==="."||(l===".."?n.length&&n[n.length-1]!==".."?n.pop():r&&n.push(".."):n.push(l))}return n}function O(e){for(var r=e.length-1,n=0;n<=r&&!e[n];n++);for(var o=r;o>=0&&!e[o];o--);return n===0&&o===r?e:n>o?[]:e.slice(n,o+1)}var K=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,ge=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,d={};function k(e){var r=K.exec(e),n=(r[1]||"")+(r[2]||""),o=r[3]||"",l=ge.exec(o),u=l[1],g=l[2],h=l[3];return[n,u,g,h]}function V(e){var r=K.exec(e),n=r[1]||"",o=!!n&&n[1]!==":";return{device:n,isUnc:o,isAbsolute:o||!!r[2],tail:r[3]}}function Q(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}d.resolve=function(){for(var e="",r="",n=!1,o=arguments.length-1;o>=-1;o--){var l;if(o>=0?l=arguments[o]:e?(l=process.env["="+e],(!l||l.substr(0,3).toLowerCase()!==e.toLowerCase()+"\\")&&(l=e+"\\")):l=process.cwd(),E.isString(l)){if(!l)continue}else throw new TypeError("Arguments to path.resolve must be strings");var u=V(l),g=u.device,h=u.isUnc,w=u.isAbsolute,b=u.tail;if(!(g&&e&&g.toLowerCase()!==e.toLowerCase())&&(e||(e=g),n||(r=b+"\\"+r,n=w),e&&n))break}return h&&(e=Q(e)),r=N(r.split(/[\\\/]+/),!n).join("\\"),e+(n?"\\":"")+r||"."};d.normalize=function(e){var r=V(e),n=r.device,o=r.isUnc,l=r.isAbsolute,u=r.tail,g=/[\\\/]$/.test(u);return u=N(u.split(/[\\\/]+/),!l).join("\\"),!u&&!l&&(u="."),u&&g&&(u+="\\"),o&&(n=Q(n)),n+(l?"\\":"")+u};d.isAbsolute=function(e){return V(e).isAbsolute};d.join=function(){for(var e=[],r=0;r<arguments.length;r++){var n=arguments[r];if(!E.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var o=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(o=o.replace(/^[\\\/]{2,}/,"\\")),d.normalize(o)};d.relative=function(e,r){e=d.resolve(e),r=d.resolve(r);for(var n=e.toLowerCase(),o=r.toLowerCase(),l=O(r.split("\\")),u=O(n.split("\\")),g=O(o.split("\\")),h=Math.min(u.length,g.length),w=h,b=0;b<h;b++)if(u[b]!==g[b]){w=b;break}if(w==0)return r;for(var j=[],b=w;b<u.length;b++)j.push("..");return j=j.concat(l.slice(w)),j.join("\\")};d._makeLong=function(e){if(!E.isString(e))return e;if(!e)return"";var r=d.resolve(e);return/^[a-zA-Z]\:\\/.test(r)?"\\\\?\\"+r:/^\\\\[^?.]/.test(r)?"\\\\?\\UNC\\"+r.substring(2):e};d.dirname=function(e){var r=k(e),n=r[0],o=r[1];return!n&&!o?".":(o&&(o=o.substr(0,o.length-1)),n+o)};d.basename=function(e,r){var n=k(e)[2];return r&&n.substr(-1*r.length)===r&&(n=n.substr(0,n.length-r.length)),n};d.extname=function(e){return k(e)[3]};d.format=function(e){if(!E.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var r=e.root||"";if(!E.isString(r))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,o=e.base||"";return n?n[n.length-1]===d.sep?n+o:n+d.sep+o:o};d.parse=function(e){if(!E.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=k(e);if(!r||r.length!==4)throw new TypeError("Invalid path '"+e+"'");return{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};d.sep="\\";d.delimiter=";";var de=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,y={};function W(e){return de.exec(e).slice(1)}y.resolve=function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var o=n>=0?arguments[n]:process.cwd();if(E.isString(o)){if(!o)continue}else throw new TypeError("Arguments to path.resolve must be strings");e=o+"/"+e,r=o[0]==="/"}return e=N(e.split("/"),!r).join("/"),(r?"/":"")+e||"."};y.normalize=function(e){var r=y.isAbsolute(e),n=e&&e[e.length-1]==="/";return e=N(e.split("/"),!r).join("/"),!e&&!r&&(e="."),e&&n&&(e+="/"),(r?"/":"")+e};y.isAbsolute=function(e){return e.charAt(0)==="/"};y.join=function(){for(var e="",r=0;r<arguments.length;r++){var n=arguments[r];if(!E.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e?e+="/"+n:e+=n)}return y.normalize(e)};y.relative=function(e,r){e=y.resolve(e).substr(1),r=y.resolve(r).substr(1);for(var n=O(e.split("/")),o=O(r.split("/")),l=Math.min(n.length,o.length),u=l,g=0;g<l;g++)if(n[g]!==o[g]){u=g;break}for(var h=[],g=u;g<n.length;g++)h.push("..");return h=h.concat(o.slice(u)),h.join("/")};y._makeLong=function(e){return e};y.dirname=function(e){var r=W(e),n=r[0],o=r[1];return!n&&!o?".":(o&&(o=o.substr(0,o.length-1)),n+o)};y.basename=function(e,r){var n=W(e)[2];return r&&n.substr(-1*r.length)===r&&(n=n.substr(0,n.length-r.length)),n};y.extname=function(e){return W(e)[3]};y.format=function(e){if(!E.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var r=e.root||"";if(!E.isString(r))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir?e.dir+y.sep:"",o=e.base||"";return n+o};y.parse=function(e){if(!E.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=W(e);if(!r||r.length!==4)throw new TypeError("Invalid path '"+e+"'");return r[1]=r[1]||"",r[2]=r[2]||"",r[3]=r[3]||"",{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};y.sep="/";y.delimiter=":";pe?T.exports=d:T.exports=y;T.exports.posix=y;T.exports.win32=d;var ye=T.exports;const me=ue(ye),ve=8080;require("dotenv").config();const he="http://localhost:5173",be=`http://localhost:${ve}`;let we=1488,Ee=924;const Y=()=>{const e=new A.BrowserWindow({width:we,height:Ee,title:"cockpit",webPreferences:{devTools:!0,backgroundThrottling:!1,nodeIntegration:!0,contextIsolation:!1,webSecurity:!1}}),r=new A.BrowserWindow({width:800,height:600,title:"server",webPreferences:{devTools:!0,backgroundThrottling:!1,nodeIntegration:!0,contextIsolation:!1,webSecurity:!1}});console.log(process.env.MODE);const n=(o,l,u)=>{process.env.MODE==="development"?(console.log("Loading from development server"),l==="cockpit"&&o.loadURL(he),l==="server"&&o.loadURL(be),o.webContents.openDevTools()):(console.log("Loading from file system"),o.loadFile(me.join(__dirname,u)),o.webContents.openDevTools())};n(e,"cockpit","../renderer/src/renderer/cockpit/index.html"),n(r,"server","../renderer/src/renderer/server/index.html")};A.app.whenReady().then(Y);A.app.on("window-all-closed",()=>{process.platform!=="darwin"&&A.app.quit()});A.app.on("activate",()=>{A.BrowserWindow.getAllWindows().length===0&&Y()});
