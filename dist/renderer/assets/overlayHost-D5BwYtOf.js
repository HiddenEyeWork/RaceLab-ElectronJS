import{j as C,R as F}from"./index-CDuM-JJU.js";const I="racelabapps",z="RacelabApps",D="5.3.1",R="RacelabApps",A="./dist/main/index.cjs",J={start:'concurrently "node src/server/index.js" "yarn electron-forge start"',build:"vite build --config vite.main.config.js",renderer:"vite build --config vite.renderer.config.js","vite:start":"vite --host","electron:start":"yarn build && yarn renderer && yarn electron-forge start",vstart:"cross-env NODE_ENV=development electron-forge start",electron:"electron .",dev:"yarn depcruise-lint & yarn lint & yarn start",package:"cross-env NODE_OPTIONS='--max-old-space-size=8192' NODE_ENV=production electron-forge package",make:"cross-env NODE_OPTIONS='--max-old-space-size=8192' NODE_ENV=production electron-forge make",pub:"cross-env NODE_OPTIONS='--max-old-space-size=8192' NODE_ENV=production electron-forge publish && node publish.js",lint:"tslint --project ./src/renderer/tsconfig.json",test:"jest --watch","test-coverage":"jest --coverage",dto:"ts-ref ./src/renderer/shared/dtos/dtos.ts",storybook:"storybook dev -p 6006","build-storybook":"storybook build",chromatic:"npx chromatic --project-token=2588dabd774d","legacy-depgraph":"cd ./src/renderer && npx ts_dependency_graph --start ./server/index.ts ./cockpit/index.tsx ./overlayHost/index.tsx --graph_folder --aggregate_by_folder --max_depth 1000 > ../../depgraph.dot && echo 'Paste results in https://dreampuf.github.io/GraphvizOnline'","legacy-depgraph-simple":"cd ./src/renderer && npx ts_dependency_graph --start ./server/index.ts ./cockpit/index.tsx ./overlayHost/index.tsx --graph_folder --aggregate_by_folder --max_depth 3 > ../../depgraph.dot && echo 'Paste results in https://dreampuf.github.io/GraphvizOnline'",depcruise:"npx depcruise ./src/ --output-type dot --progress > depcruise.dot","depcruise-simple":"npx depcruise ./src/ --output-type dot --collapse 4 --progress > depcruise.dot","depcruise-lint":"npx depcruise ./src/ --output-type err-long --progress"},U=[],q="Pace Engineering GmbH <support@racelab.app>",M="MIT",P={forge:"./forge.config.js"},B={"@electron-forge/plugin-vite":"^7.3.1","@electron/remote":"2.0.11","@openid/appauth":"1.3.0","@pulsoid/socket":"^1.1.6","@racehub-io/f1-telemetry-client":"0.2.12","@servicestack/client":"1.0.51","@stripe/react-stripe-js":"1.4.0","@stripe/stripe-js":"1.13.2","@twurple/api":"7.0.10","@twurple/auth":"7.0.10","@twurple/chat":"7.0.10","@twurple/eventsub-http":"7.0.10","@vitejs/plugin-react":"^4.2.1",ajv:"7.2.4","ajv-formats":"2.0.2",apexcharts:"3.33.1","array-move":"4.0.0","audiomotion-analyzer":"4.3.0","auto-launch":"5.0.5",bootstrap:"4.6.0","bs-custom-file-input":"1.3.4",bufferutil:"4.0.6","chart.js":"3.8.2",classnames:"2.3.2","color-scales":"3.0.2","crypto-js":"^4.2.0","electron-dl":"3.5.1","electron-log":"4.4.8","electron-rebuild":"^3.2.9","electron-squirrel-startup":"1.0.0","electron-store":"8.1.0","electron-updater":"6.1.8",encoding:"^0.1.13",express:"4.17.1",fastdom:"1.0.10","font-awesome":"4.7.0","get-youtube-id":"1.0.1","gradient-path":"2.3.0",i18next:"21.9.1","i18next-browser-languagedetector":"6.1.5","i18next-chained-backend":"3.1.0","i18next-http-backend":"1.4.1","i18next-localstorage-backend":"3.1.3","js-base64":"3.7.2","line-reader":"0.4.0",moment:"2.30.1","moment-timezone":"0.5.45","node-addon-api":"8.0.0","node-gyp":"^10.1.0","node-irsdk":"git+https://8104db2a64c259599b40ab4b473c449b3c019af1:x-oauth-basic@github.com/iamisti/node-irsdk-iamisti.git#node18",numeral:"2.0.6","oidc-client":"1.11.5","path-intersection":"2.2.1","qrcode.react":"1.0.1",react:"17.0.2","react-apexcharts":"1.3.9","react-bootstrap":"2.9.0","react-chartjs-2":"4.3.1","react-circular-progressbar":"2.0.4","react-collapsible":"2.8.3","react-color":"2.19.3","react-copy-to-clipboard":"5.0.3","react-countup":"4.3.3","react-custom-scrollbars":"4.2.1","react-dom":"17.0.2","react-draggable":"4.4.3","react-hook-form":"7.17.4","react-i18next":"11.18.5","react-number-format":"5.2.2","react-paginate":"8.1.3","react-query":"3.34.16","react-rnd":"10.2.4","react-router-dom":"6.16.0","react-sortable-hoc":"2.0.0","react-timeago":"6.2.1","react-youtube":"7.14.0",recharts:"2.0.9","rss-parser":"3.12.0",sass:"1.63.4",trackjs:"3.10.1","trackjs-node":"1.0.1",underscore:"1.13.0",uuid:"8.3.2",vite:"^5.2.6",ws:"8.16.0","xml-js":"1.6.11",yaml:"1.10.2"},W={"@babel/cli":"7.15.4","@babel/core":"7.15.5","@babel/plugin-proposal-class-properties":"7.16.0","@babel/plugin-proposal-nullish-coalescing-operator":"7.18.6","@babel/plugin-proposal-numeric-separator":"7.16.0","@babel/plugin-proposal-object-rest-spread":"7.16.0","@babel/plugin-proposal-optional-chaining":"7.18.9","@babel/preset-env":"7.22.20","@babel/preset-flow":"7.22.15","@babel/preset-react":"7.16.0","@babel/preset-typescript":"7.16.0","@electron-forge/cli":"6.4.2","@electron-forge/maker-deb":"6.4.2","@electron-forge/maker-rpm":"6.4.2","@electron-forge/maker-squirrel":"6.4.2","@electron-forge/maker-zip":"6.4.2","@electron-forge/plugin-webpack":"6.4.2","@storybook/addon-a11y":"7.5.1","@storybook/addon-actions":"7.5.1","@storybook/addon-essentials":"7.5.1","@storybook/addon-links":"7.5.1","@storybook/addon-storyshots":"7.5.1","@storybook/addon-styling-webpack":"0.0.5","@storybook/addons":"7.5.1","@storybook/react":"7.5.1","@storybook/react-webpack5":"7.5.1","@storybook/theming":"7.5.1","@trivago/prettier-plugin-sort-imports":"^4.2.0","@types/auto-launch":"5.0.1","@types/axios":"0.14.0","@types/chai":"4.2.16","@types/crypto-js":"^4.2.1","@types/electron":"1.6.10","@types/electron-store":"3.2.0","@types/enzyme":"3.10.8","@types/enzyme-adapter-react-16":"1.0.6","@types/express":"4.17.11","@types/i18next":"13.0.0","@types/jest":"25.2.3","@types/mocha":"5.2.7","@types/moment":"2.13.0","@types/numeral":"0.0.26","@types/qrcode.react":"1.0.1","@types/react":"17.0.3","@types/react-addons-css-transition-group":"15.0.5","@types/react-bootstrap":"0.32.33","@types/react-chartjs-2":"2.5.7","@types/react-collapsible":"2.3.1","@types/react-color":"3.0.4","@types/react-copy-to-clipboard":"5.0.0","@types/react-countup":"4.3.0","@types/react-custom-scrollbars":"4.0.7","@types/react-dom":"17.0.3","@types/react-paginate":"7.1.1","@types/react-query":"1.2.9","@types/react-rnd":"8.0.0","@types/react-router":"5.1.13","@types/react-router-dom":"5.1.7","@types/react-timeago":"4.1.3","@types/recharts":"1.8.19","@types/request":"2.48.5","@types/socket.io":"2.1.13","@types/tmi.js":"1.8.3","@types/underscore":"1.11.1","@types/uuid":"8.3.0","@types/ws":"8.5.4","@types/yaml":"1.9.7","@vercel/webpack-asset-relocator-loader":"1.7.3",autoprefixer:"9.8.6","babel-jest":"27.2.0","babel-loader":"8.2.2",chai:"4.3.4",chromatic:"7.6.0","cross-env":"6.0.3","css-loader":"3.6.0","dependency-cruiser":"^15.0.0",electron:"26.4.1",enzyme:"3.11.0","enzyme-adapter-react-16":"1.15.6","esnext-loader":"1.1.0","event-emitter":"0.3.5","file-loader":"6.2.0","fork-ts-checker-webpack-plugin":"9.0.0","identity-obj-proxy":"3.0.0",jest:"25.5.4",mocha:"7.2.0","node-loader":"0.6.0","postcss-loader":"3.0.0",precss:"4.0.0","replace-in-file":"4.3.1",request:"2.88.2","sass-loader":"10.1.1","sha256-file":"1.0.0",storybook:"7.5.1","storybook-addon-performance":"0.17.1","storybook-dark-mode":"3.0.1","style-loader":"0.23.1",surge:"0.21.7","ts-jest":"25.5.1","ts-node":"8.10.2","tsconfig-paths-webpack-plugin":"^4.1.0",tslint:"6.1.3","tslint-react":"5.0.0",typescript:"5.3.3",typings:"2.1.1"},H={"@types/react":"17.0.2"},V={name:I,productName:z,version:D,description:R,main:A,scripts:J,keywords:U,author:q,license:M,config:P,dependencies:B,devDependencies:W,resolutions:H},X="23887d6c06684bdd9c1df1f44ca1e99ac",$=()=>C.jsx("div",{children:"overlayhost ui"});window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function Q(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(c=>{c.unregister()})}//! TrackJS JavaScript error monitoring agent.
//! COPYRIGHT (c) 2021 ALL RIGHTS RESERVED
//! See License at https://trackjs.com/terms/
var G=function(c,m,f){"use awesome";var k=function(t,r){this.config=t,this.onError=r,t.enabled&&this.watch()};k.prototype={watch:function(){i.forEach(["EventTarget","Node","XMLHttpRequest"],function(t){i.has(c,t+".prototype.addEventListener")&&i.hasOwn(c[t].prototype,"addEventListener")&&this.wrapEventTarget(c[t].prototype)},this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(t){function r(){try{return t.apply(this,arguments)}catch(a){throw e.onError("catch",a,{bindTime:n,bindStack:o}),i.wrapError(a)}}var e=this;try{if(!i.isFunction(t)||i.hasOwn(t,"__trackjs__"))return t;if(i.hasOwn(t,"__trackjs_state__"))return t.__trackjs_state__}catch{return t}var n,o;if(e.config.bindStack)try{throw Error()}catch(a){o=a.stack,n=i.isoNow()}for(var s in t)i.hasOwn(t,s)&&(r[s]=t[s]);return r.prototype=t.prototype,r.__trackjs__=!0,t.__trackjs_state__=r},wrapEventTarget:function(t){var r=this;i.has(t,"addEventListener.call")&&i.has(t,"removeEventListener.call")&&(i.patch(t,"addEventListener",function(e){return function(n,o,s,a){try{i.has(o,"handleEvent")&&(o.handleEvent=r.wrap(o.handleEvent))}catch{}return e.call(this,n,r.wrap(o),s,a)}}),i.patch(t,"removeEventListener",function(e){return function(n,o,s,a){try{o=o&&(o.__trackjs_state__||o)}catch{}return e.call(this,n,o,s,a)}}))},wrapTimer:function(t){var r=this;i.patch(c,t,function(e){return function(n,o){var s=Array.prototype.slice.call(arguments),a=s[0];return i.isFunction(a)&&(s[0]=r.wrap(a)),i.has(e,"apply")?e.apply(this,s):e(s[0],s[1])}})}};var y=function(t){this.initCurrent(t)||console.warn("[TrackJS] invalid config")};y.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,forwardingDomain:"",errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",usageURL:"https://usage.trackjs.com/usage.gif",onError:function(){return!0},serialize:function(t){function r(o){var s="<"+o.tagName.toLowerCase();o=o.attributes||[];for(var a=0;a<o.length;a++)s+=" "+o[a].name+'="'+o[a].value+'"';return s+">"}if(t==="")return"Empty String";if(t===f)return"undefined";if(i.isString(t)||i.isNumber(t)||i.isBoolean(t)||i.isFunction(t))return""+t;if(i.isElement(t))return r(t);if(typeof t=="symbol")return Symbol.prototype.toString.call(t);var e;try{e=JSON.stringify(t,function(o,s){return s===f?"undefined":i.isNumber(s)&&isNaN(s)?"NaN":i.isError(s)?{name:s.name,message:s.message,stack:s.stack}:i.isElement(s)?r(s):s})}catch{e="";for(var n in t)if(t.hasOwnProperty(n))try{e+=',"'+n+'":"'+t[n]+'"'}catch{}e=e?"{"+e.replace(",","")+"}":"Unserializable Object"}return e.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},initCurrent:function(t){return this.removeEmpty(t),this.validate(t,this.defaults,"[TrackJS] config",{})?(this.current=i.defaultsDeep({},t,this.defaults),!0):(this.current=i.defaultsDeep({},this.defaults),!1)},setCurrent:function(t){return this.validate(t,this.defaults,"[TrackJS] config",this.initOnly)?(this.current=i.defaultsDeep({},t,this.current),!0):!1},removeEmpty:function(t){for(var r in t)t.hasOwnProperty(r)&&t[r]===f&&delete t[r]},validate:function(t,r,e,n){var o=!0;e=e||"",n=n||{};for(var s in t)if(t.hasOwnProperty(s))if(r.hasOwnProperty(s)){var a=typeof r[s];a!==typeof t[s]?(console.warn(e+"."+s+": property must be type "+a+"."),o=!1):Object.prototype.toString.call(t[s])!=="[object Array]"||this.validateArray(t[s],r[s],e+"."+s)?Object.prototype.toString.call(t[s])==="[object Object]"?o=this.validate(t[s],r[s],e+"."+s,n[s]):n.hasOwnProperty(s)&&(console.warn(e+"."+s+": property cannot be set after load."),o=!1):o=!1}else console.warn(e+"."+s+": property not supported."),o=!1;return o},validateArray:function(t,r,e){var n=!0;e=e||"";for(var o=0;o<t.length;o++)i.contains(r,t[o])||(console.warn(e+"["+o+"]: invalid value: "+t[o]+"."),n=!1);return n}};var v=function(t,r,e,n,o,s,a){this.util=t,this.log=r,this.onError=e,this.onFault=n,this.serialize=o,a.enabled&&(s.console=this.wrapConsoleObject(s.console,a))};v.prototype={wrapConsoleObject:function(t,r){t=t||{};var e=t.log||function(){},n=this,o;for(o=0;o<r.watch.length;o++)(function(s){var a=t[s]||e;t[s]=function(){try{var u=Array.prototype.slice.call(arguments);if(n.log.add("c",{timestamp:n.util.isoNow(),severity:s,message:n.serialize(u.length===1?u[0]:u)}),r[s])if(i.isError(u[0])&&u.length===1)n.onError("console",u[0]);else try{throw Error(n.serialize(u.length===1?u[0]:u))}catch(p){n.onError("console",p)}r.display&&(n.util.hasFunction(a,"apply")?a.apply(t,u):a(u[0]))}catch(p){n.onFault(p)}}})(r.watch[o]);return t},report:function(){return this.log.all("c")}};var b=function(t,r,e,n,o){this.config=t,this.util=r,this.log=e,this.window=n,this.document=o,this.correlationId=this.token=null,this.initialize()};b.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var t=this.document.getElementsByTagName("script");return t[t.length-1].getAttribute("data-token")},getCorrelationId:function(){var t;if(!this.config.current.cookie)return this.util.uuid();try{t=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"),t||(t=this.util.uuid(),this.document.cookie="TrackJS="+t+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch{t=this.util.uuid()}return t},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var E=function(t){this.config=t,this.loadedOn=new Date().getTime(),this.originalUrl=i.getLocation(),this.referrer=i.isBrowser?m.referrer:""};E.prototype={discoverDependencies:function(){var t={TrackJS:"3.10.1"};c.jQuery&&c.jQuery.fn&&c.jQuery.fn.jquery&&(t.jQuery=c.jQuery.fn.jquery),c.jQuery&&c.jQuery.ui&&c.jQuery.ui.version&&(t.jQueryUI=c.jQuery.ui.version),c.angular&&c.angular.version&&c.angular.version.full&&(t.angular=c.angular.version.full);for(var r in c)if(r!=="_trackJs"&&r!=="_trackJS"&&r!=="_trackjs"&&r!=="webkitStorageInfo"&&r!=="webkitIndexedDB"&&r!=="top"&&r!=="parent"&&r!=="frameElement")try{if(c[r]){var e=c[r].version||c[r].Version||c[r].VERSION;typeof e=="string"&&(t[r]=e)}}catch{}return t.TrackJS&&t.trackJs&&delete t.trackJs,t},report:function(){return{age:new Date().getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.10.1"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:c.navigator.userAgent,viewportHeight:i.isBrowser?c.document.documentElement.clientHeight:0,viewportWidth:i.isBrowser?c.document.documentElement.clientWidth:0}}};var x=function(t){this.util=t,this.appender=[],this.maxLength=30};x.prototype={all:function(t){var r=[],e,n;for(n=0;n<this.appender.length;n++)(e=this.appender[n])&&e.category===t&&r.push(e.value);return r},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(t,r){var e=this.util.uuid();return this.appender.push({key:e,category:t,value:r}),this.truncate(),e},get:function(t,r){var e,n;for(n=0;n<this.appender.length;n++)if(e=this.appender[n],e.category===t&&e.key===r)return e.value;return!1}};var L=function(t){var r={};return{addMetadata:function(e,n){r[e]=n},removeMetadata:function(e){delete r[e]},report:function(){var e=[],n;for(n in r)r.hasOwnProperty(n)&&e.push({key:n,value:t(r[n])});return e},store:r}},j=function(t,r){this.log=t,this.options=r,r.enabled&&this.watch()};j.prototype={isCompatible:function(t){return t=t||c,!i.has(t,"chrome.app.runtime")&&i.has(t,"addEventListener")&&i.has(t,"history.pushState")},record:function(t,r,e){this.log.add("h",{type:t,from:i.truncate(r,250),to:i.truncate(e,250),on:i.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var t=this,r=i.getLocationURL().relative;c.addEventListener("popstate",function(){var e=i.getLocationURL().relative;t.record("popState",r,e),r=e},!0),i.forEach(["pushState","replaceState"],function(e){i.patch(history,e,function(n){return function(){r=i.getLocationURL().relative;var o=n.apply(this,arguments),s=i.getLocationURL().relative;return t.record(e,r,s),r=s,o}})})}}};var _=function(t,r,e,n,o,s){this.util=t,this.log=r,this.onError=e,this.onFault=n,this.window=o,this.options=s,s.enabled&&this.initialize(o)};_.prototype={initialize:function(t){t.XMLHttpRequest&&this.util.hasFunction(t.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XMLHttpRequest),t.XDomainRequest&&this.util.hasFunction(t.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XDomainRequest),this.options.fetch&&i.isWrappableFunction(t.fetch)&&this.watchFetch()},escapeUrl:function(t){return(""+t).replace(/ /gi,"%20").replace(/\t/gi,"%09")},watchFetch:function(){var t=this,r=this.log,e=this.options,n=this.onError;i.patch(c,"fetch",function(o){return function(s,a){if(a&&a.__trackjs__)return o.apply(c,arguments);var u;try{throw Error()}catch(l){u=l.stack}var d=s instanceof Request?s.url:s,p=s instanceof Request?s.method:(a||{}).method||"GET",d=t.escapeUrl(d),g=o.apply(c,arguments);return g.__trackjs_state__=r.add("n",{type:"fetch",startedOn:i.isoNow(),method:p,url:i.truncate(d,2e3)}),g.then(function(l){var h=r.get("n",g.__trackjs_state__);if(h){i.defaults(h,{completedOn:i.isoNow(),statusCode:l.status,statusText:l.statusText});var T=l.headers.get("trackjs-correlation-id");T&&(h.requestCorrelationId=T),e.error&&400<=l.status&&(h=Error(h.statusCode+" : "+h.method+" "+h.url),h.stack=u,n("ajax",h))}return l}).catch(function(l){l=l||{};var h=r.get("n",g.__trackjs_state__);throw h&&(i.defaults(h,{completedOn:i.isoNow(),statusCode:0,statusText:l.toString()}),e.error&&(n("ajax",{name:l.name,message:(l.message||"Failed")+": "+h.method+" "+h.url,stack:l.stack||u}),l.__trackjs_state__=!0)),l})}})},watchNetworkObject:function(t){var r=this,e=t.prototype.open,n=t.prototype.send;return t.prototype.open=function(o,s){var a=(s||"").toString();return 0>a.indexOf("localhost:0")&&(a=r.escapeUrl(a),this._trackJs={method:o,url:a}),e.apply(this,arguments)},t.prototype.send=function(){if(!this._trackJs)try{return n.apply(this,arguments)}catch(o){r.onError("ajax",o);return}try{this._trackJs.logId=r.log.add("n",{type:"xhr",startedOn:r.util.isoNow(),method:this._trackJs.method,url:i.truncate(this._trackJs.url,2e3)}),r.listenForNetworkComplete(this)}catch(o){r.onFault(o)}return n.apply(this,arguments)},t},listenForNetworkComplete:function(t){var r=this;r.window.ProgressEvent&&t.addEventListener&&t.addEventListener("readystatechange",function(){t.readyState===4&&r.finalizeNetworkEvent(t)},!0),t.addEventListener?t.addEventListener("load",function(){r.finalizeNetworkEvent(t),r.checkNetworkFault(t)},!0):setTimeout(function(){try{var e=t.onload;t.onload=function(){r.finalizeNetworkEvent(t),r.checkNetworkFault(t),typeof e=="function"&&r.util.hasFunction(e,"apply")&&e.apply(t,arguments)};var n=t.onerror;t.onerror=function(){r.finalizeNetworkEvent(t),r.checkNetworkFault(t),typeof oldOnError=="function"&&n.apply(t,arguments)}}catch(o){r.onFault(o)}},0)},finalizeNetworkEvent:function(t){if(t._trackJs){var r=this.log.get("n",t._trackJs.logId);r&&(r.completedOn=this.util.isoNow(),t.getAllResponseHeaders&&t.getResponseHeader&&0<=(t.getAllResponseHeaders()||"").toLowerCase().indexOf("trackjs-correlation-id")&&(r.requestCorrelationId=t.getResponseHeader("trackjs-correlation-id")),r.statusCode=t.status==1223?204:t.status,r.statusText=t.status==1223?"No Content":t.statusText)}},checkNetworkFault:function(t){if(this.options.error&&400<=t.status&&t.status!=1223){var r=t._trackJs||{};this.onError("ajax",t.status+" : "+r.method+" "+r.url)}},report:function(){return this.log.all("n")}};var w=function(t,r){this.util=t,this.config=r,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:new Date().getTime()},c.JSON&&c.JSON.stringify||(this.disabled=!0)};w.prototype={errorEndpoint:function(t){var r=this.config.current,e=r.errorURL;return i.isBrowser&&!i.testCrossdomainXhr()&&c.location.protocol.indexOf("https")===-1?e=r.errorNoSSLURL:r.forwardingDomain&&(e="https://"+r.forwardingDomain+"/capture"),e+"?token="+t+"&v=3.10.1"},usageEndpoint:function(t){var r=this.config.current,e=r.usageURL;return r.forwardingDomain&&(e="https://"+r.forwardingDomain+"/usage.gif"),this.appendObjectAsQuery(t,e)},trackerFaultEndpoint:function(t){var r=(this.config||{}).current||y.prototype.defaults,e=r.faultURL;return r.forwardingDomain&&(e="https://"+r.forwardingDomain+"/fault.gif"),this.appendObjectAsQuery(t,e)},appendObjectAsQuery:function(t,r){r+="?";for(var e in t)t.hasOwnProperty(e)&&(r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])+"&");return r},getCORSRequest:function(t,r){var e;return this.util.testCrossdomainXhr()?(e=new c.XMLHttpRequest,e.open(t,r),e.setRequestHeader("Content-Type","text/plain")):typeof c.XDomainRequest<"u"?(e=new c.XDomainRequest,e.open(t,r)):e=null,e},sendTrackerFault:function(t){this.throttle(t)||(i.isBrowser?m.createElement("img").src=this.trackerFaultEndpoint(t):fetch(this.trackerFaultEndpoint(t),{mode:"no-cors",__trackjs__:!0}))},sendUsage:function(t){i.isBrowser?m.createElement("img").src=this.usageEndpoint(t):fetch(this.usageEndpoint(t),{mode:"no-cors",__trackjs__:!0})},sendError:function(t,r){var e=this;if(!this.disabled&&!this.throttle(t))try{if(i.isBrowser){var n=this.getCORSRequest("POST",this.errorEndpoint(r));n.onreadystatechange=function(){n.readyState!==4||i.contains([200,202],n.status)||(e.disabled=!0)},n._trackJs=f,n.send(c.JSON.stringify(t))}else if(i.isWorker){var o={method:"POST",mode:"cors",body:c.JSON.stringify(t),__trackjs__:1};fetch(this.errorEndpoint(r),o).then(function(s){s.ok||(e.disabled=!0)}).catch(function(s){e.disabled=!0})}}catch(s){throw this.disabled=!0,s}},throttle:function(t){var r=new Date().getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=r){if(this.throttleStats.lastAttempt=r,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else t.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=r,this.throttleStats.throttledCount=0;return!1}};var i=function(){function t(e,n,o,s){return o=o||!1,s=s||0,i.forEach(n,function(a){i.forEach(i.keys(a),function(u){a[u]===null||a[u]===f?e[u]=a[u]:o&&10>s&&r(a[u])==="[object Object]"?(e[u]=e[u]||{},t(e[u],[a[u]],o,s+1)):e.hasOwnProperty(u)||(e[u]=a[u])})}),e}function r(e){return Object.prototype.toString.call(e)}return{isBrowser:typeof c<"u"&&typeof c.document<"u",isWorker:typeof self=="object"&&self.constructor&&0<=(self.constructor.name||"").indexOf("WorkerGlobalScope"),isNode:typeof process<"u"&&process.versions!=null&&process.versions.node!=null,addEventListenerSafe:function(e,n,o,s){e.addEventListener?e.addEventListener(n,o,s):e.attachEvent&&e.attachEvent("on"+n,o)},afterDocumentLoad:function(e){if(i.isWorker)i.defer(e);else{var n=!1;m.readyState==="complete"?i.defer(e):(i.addEventListenerSafe(m,"readystatechange",function(){m.readyState!=="complete"||n||(i.defer(e),n=!0)}),setTimeout(function(){n||(i.defer(e),n=!0)},1e4))}},bind:function(e,n){return function(){return e.apply(n,Array.prototype.slice.call(arguments))}},contains:function(e,n){return 0<=e.indexOf(n)},defaults:function(e){return t(e,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(e){return t(e,Array.prototype.slice.call(arguments,1),!0)},defer:function(e,n){setTimeout(function(){e.apply(n)})},forEach:function(e,n,o){if(i.isArray(e)){if(e.forEach)return e.forEach(n,o);for(var s=0;s<e.length;)n.call(o,e[s],s,e),s++}},getLocation:function(){return c.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return i.parseURL(i.getLocation())},has:function(e,n){try{for(var o=n.split("."),s=e,a=0;a<o.length;a++)if(s[o[a]])s=s[o[a]];else return!1;return!0}catch{return!1}},hasFunction:function(e,n){try{return!!e[n]}catch{return!1}},hasOwn:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},isArray:function(e){return r(e)==="[object Array]"},isBoolean:function(e){return typeof e=="boolean"||i.isObject(e)&&r(e)==="[object Boolean]"},isBrowserIE:function(e){e=e||c.navigator.userAgent;var n=e.match(/Trident\/([\d.]+)/);return n&&n[1]==="7.0"?11:(e=e.match(/MSIE ([\d.]+)/))?parseInt(e[1],10):!1},isBrowserSupported:function(){var e=this.isBrowserIE();return!e||8<=e},isError:function(e){if(!i.isObject(e))return!1;var n=r(e);return n==="[object Error]"||n==="[object DOMException]"||i.isString(e.name)&&i.isString(e.message)},isElement:function(e){return i.isObject(e)&&e.nodeType===1},isFunction:function(e){return!(!e||typeof e!="function")},isNumber:function(e){return typeof e=="number"||i.isObject(e)&&r(e)==="[object Number]"},isObject:function(e){return!(!e||typeof e!="object")},isString:function(e){return typeof e=="string"||!i.isArray(e)&&i.isObject(e)&&r(e)==="[object String]"},isWrappableFunction:function(e){return this.isFunction(e)&&this.hasFunction(e,"apply")},isoNow:function(){var e=new Date;return e.toISOString?e.toISOString():e.getUTCFullYear()+"-"+this.pad(e.getUTCMonth()+1)+"-"+this.pad(e.getUTCDate())+"T"+this.pad(e.getUTCHours())+":"+this.pad(e.getUTCMinutes())+":"+this.pad(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(e){if(!i.isObject(e))return[];var n=[],o;for(o in e)e.hasOwnProperty(o)&&n.push(o);return n},noop:function(){},pad:function(e){return e=String(e),e.length===1&&(e="0"+e),e},parseURL:function(e){var n=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return n?(n={protocol:n[2],host:n[4],path:n[5],query:n[6],hash:n[8]},n.origin=(n.protocol||"")+"://"+(n.host||""),n.relative=(n.path||"")+(n.query||"")+(n.hash||""),n.href=e,n):{}},patch:function(e,n,o){e[n]=o(e[n]||i.noop)},testCrossdomainXhr:function(){return i.isBrowser&&"withCredentials"in new XMLHttpRequest},truncate:function(e,n){if(e=""+e,e.length<=n)return e;var o=e.length-n;return e.substr(0,n)+"...{"+o+"}"},tryGet:function(e,n){try{return e[n]}catch{}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return(e=="x"?n:n&3|8).toString(16)})},wrapError:function(e){var n=e||Object.prototype.toString.call(e);if(n&&n.innerError)return e;var o=Error("TrackJS Caught: "+(n.message||n));return o.description="TrackJS Caught: "+n.description,o.file=n.file,o.line=n.line||n.lineNumber,o.column=n.column||n.columnNumber,o.stack=n.stack,o.innerError=e,o}}}(),S=function(t,r,e,n,o,s){this.util=t,this.log=r,this.onError=e,this.onFault=n,this.options=s,this.document=o,t.isBrowser&&s.enabled&&this.initialize(o)};S.prototype={initialize:function(t){var r=this.util.bind(this.onDocumentClicked,this),e=this.util.bind(this.onInputChanged,this);t.addEventListener?(t.addEventListener("click",r,!0),t.addEventListener("blur",e,!0)):t.attachEvent&&(t.attachEvent("onclick",r),t.attachEvent("onfocusout",e))},onDocumentClicked:function(t){try{var r=this.getElementFromEvent(t);r&&r.tagName&&(this.isDescribedElement(r,"a")||this.isDescribedElement(r,"button")||this.isDescribedElement(r,"input",["button","submit"])?this.writeVisitorEvent(r,"click"):this.isDescribedElement(r,"input",["checkbox","radio"])&&this.writeVisitorEvent(r,"input",r.value,r.checked))}catch(e){this.onFault(e)}},onInputChanged:function(t){try{var r=this.getElementFromEvent(t);r&&r.tagName&&(this.isDescribedElement(r,"textarea")?this.writeVisitorEvent(r,"input",r.value):this.isDescribedElement(r,"select")&&r.options&&r.options.length?this.onSelectInputChanged(r):this.isDescribedElement(r,"input")&&!this.isDescribedElement(r,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(r,"input",r.value))}catch(e){this.onFault(e)}},onSelectInputChanged:function(t){if(t.multiple)for(var r=0;r<t.options.length;r++)t.options[r].selected&&this.writeVisitorEvent(t,"input",t.options[r].value);else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeVisitorEvent(t,"input",t.options[t.selectedIndex].value)},writeVisitorEvent:function(t,r,e,n){this.getElementType(t)==="password"&&(e=f);var o=this.getElementAttributes(t);t.innerText&&(o.__trackjs_element_text=this.util.truncate(t.innerText,500)),this.log.add("v",{timestamp:this.util.isoNow(),action:r,element:{tag:t.tagName.toLowerCase(),attributes:o,value:this.getMetaValue(e,n)}})},getElementFromEvent:function(t){return t.target||m.elementFromPoint(t.clientX,t.clientY)},isDescribedElement:function(t,r,e){if(t.tagName.toLowerCase()!==r.toLowerCase())return!1;if(!e)return!0;for(t=this.getElementType(t),r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(t){for(var r={},e=Math.min(t.attributes.length,10),n=0;n<e;n++){var o=t.attributes[n];i.contains(["data-value","value"],o.name.toLowerCase())||(r[o.name]=i.truncate(o.value,100))}return r},getMetaValue:function(t,r){return t===f?f:{length:t.length,pattern:this.matchInputPattern(t),checked:r}},matchInputPattern:function(t){return t===""?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"usphone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":/^[a-zA-Z]*$/.test(t)?"alpha":/^[a-zA-Z0-9]*$/.test(t)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var O=function(t,r,e,n,o){this.onError=t,this.onFault=r,this.serialize=e,o.enabled&&this.watchWindowErrors(n),o.promise&&this.watchPromiseErrors(n)};O.prototype={watchPromiseErrors:function(t){var r=this;t.addEventListener?t.addEventListener("unhandledrejection",function(e){try{e=e||{};var n=e.detail?i.tryGet(e.detail,"reason"):i.tryGet(e,"reason");if(n!==f&&n!==null&&!n.__trackjs_state__){if(!i.isError(n))try{throw Error(r.serialize(n))}catch(o){n=o}r.onError("promise",n)}}catch(o){r.onFault(o)}}):i.patch(t,"onunhandledrejection",function(e){return function(n){r.onError("promise",n),e.apply(this,arguments)}})},watchWindowErrors:function(t){var r=this;i.patch(t,"onerror",function(e){return function(n,o,s,a,u){try{if(i.isError(u)){r.onError("window",u),e.apply(this,arguments);return}u=u||{};var p={message:u.message||r.serialize(n),name:u.name||"Error",line:u.line||parseInt(s,10)||null,column:u.column||parseInt(a,10)||null,stack:u.stack||null};Object.prototype.toString.call(n)!=="[object Event]"||o?p.file=u.file||r.serialize(o):p.file=(n.target||{}).src,r.onError("window",p)}catch(d){r.onFault(d)}e.apply(this,arguments)}})}};var N=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=c,this.document=m,this.util=i,this.install=i.bind(this.install,this),this.onError=i.bind(this.onError,this),this.onFault=i.bind(this.onFault,this),this.serialize=i.bind(this.serialize,this),this.log=new x(i),this.metadata=new L(this.serialize);var t=c&&(c._trackJs||c._trackJS||c._trackjs);t&&this.install(t)};return N.prototype={install:function(t){try{if(i.isNode)return this.warn("monitoring disabled in node"),!1;if(!i.has(t,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new y(t),this.transmitter=new w(this.util,this.config),this.environment=new E(this.config),this.customer=new b(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new v(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new k(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new S(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new j(this.log,this.config.current.navigation),this.networkWatcher=new _(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new O(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var r=this;return i.afterDocumentLoad(function(){r.transmitter.sendUsage({token:r.customer.token,correlationId:r.customer.correlationId,application:r.config.current.application,x:r.util.uuid()})}),this.hasInstalled=!0}catch(e){return this.onFault(e),!1}},pub:function(){var t=this,r={addMetadata:this.metadata.addMetadata,attempt:function(e,n){try{var o=Array.prototype.slice.call(arguments,2);return e.apply(n||this,o)}catch(s){throw t.onError("catch",s),i.wrapError(s)}},configure:function(e){return!t.hasInstalled&&t.hasEnabled?(t.warn("agent must be installed"),!1):t.config.setCurrent(e)},hash:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",isInstalled:function(){return t.hasInstalled},install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(e){if(!t.hasInstalled&&t.hasEnabled)t.warn("agent must be installed");else{var n=i.isError(e)?e.message:t.serialize(e);if(e=e||{},!e.stack)try{throw Error(n)}catch(o){e=o}t.onError("direct",e)}},version:"3.10.1",watch:function(e,n){return function(){try{var o=Array.prototype.slice.call(arguments,0);return e.apply(n||this,o)}catch(s){throw t.onError("catch",s),i.wrapError(s)}}},watchAll:function(e){var n=Array.prototype.slice.call(arguments,1),o;for(o in e)typeof e[o]!="function"||i.contains(n,o)||(e[o]=this.watch(e[o],e));return e}};return new v(i,t.log,t.onError,t.onFault,t.serialize,r,y.prototype.defaults.console),r},onError:function(){var t,r=!1;return function(e,n,o){if(this.hasInstalled&&this.hasEnabled&&i.isBrowserSupported())try{if(o=o||{bindStack:null,bindTime:null,force:!1},n&&i.isError(n)||(n={name:"Error",message:this.serialize(n,o.force)}),n.message.indexOf("TrackJS Caught")===-1)if(r&&n.message.indexOf("Script error")!==-1)r=!1;else{var s=i.defaultsDeep({},{agentPlatform:i.isBrowser?"browser":"worker",bindStack:o.bindStack,bindTime:o.bindTime,column:n.column||n.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:e,environment:this.environment.report(),file:n.file||n.fileName,line:n.line||n.lineNumber,message:n.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(c.location||"").toString(),stack:n.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.10.1"});if(!o.force)try{if(!this.config.current.onError(s,n))return}catch(p){s.console.push({timestamp:this.util.isoNow(),severity:"error",message:p.message});var a=this;setTimeout(function(){a.onError("catch",p,{force:!0})},0)}if(this.config.current.dedupe){var u=(s.message+s.stack).substr(0,1e4);if(u===t)return;t=u}(function(){function p(){var g=0;return i.forEach(s.console,function(l){g+=(l.message||"").length}),8e4<=g}for(var d=0;p()&&d<s.console.length;)s.console[d].message=i.truncate(s.console[d].message,1e3),d++})(),this.log.clear(),setTimeout(function(){r=!1}),r=!0,this.transmitter.sendError(s,this.customer.token)}}catch(p){this.onFault(p)}}}(),onFault:function(t){var r=this.transmitter||new w;t=t||{},t={token:(this.customer||{}).token,file:t.file||t.fileName,msg:t.message||"unknown",stack:(t.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.10.1",h:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",x:this.util.uuid()},r.sendTrackerFault(t)},serialize:function(t,r){if(this.hasInstalled&&this.config.current.serialize&&!r)try{return this.config.current.serialize(t)}catch(e){this.onError("catch",e,{force:!0})}return y.prototype.defaults.serialize(t)},warn:function(t){i.has(c,"console.warn")&&c.console.warn("TrackJS: "+t)}},new N().pub()}(typeof self>"u"?void 0:self,typeof document>"u"?void 0:document);G.install({token:X,application:"overlayhost",version:V.version});F.render(C.jsx($,{}),document.getElementById("root"));Q();
